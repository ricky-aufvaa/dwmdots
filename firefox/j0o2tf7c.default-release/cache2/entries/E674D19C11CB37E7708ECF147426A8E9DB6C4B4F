<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-12-05 Sun 07:45 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Install Arch Linux on Thinkpad x220</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Ravi Sagar" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel='stylesheet' href='../css/style.css' type='text/css'/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="/"> UP </a>
 |
 <a accesskey="H" href="/"> HOME </a>
</div><div id="preamble" class="status">
<div class='preamble'><a href='/'>LinuxIndya</a> | <a href='/'>Home</a> | <a href='../blog/blog.html'>Blog</a></div>
</div>
<div id="content">
<h1 class="title">Install Arch Linux on Thinkpad x220</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd417611">1. Introduction</a></li>
<li><a href="#orgf5e893a">2. My Thinkpad configurations</a></li>
<li><a href="#orgf873f80">3. Create the live usb drive</a>
<ul>
<li><a href="#org1e2214c">3.1. Boot in UEFI option</a></li>
<li><a href="#org883b2fc">3.2. Installation Steps</a>
<ul>
<li><a href="#orge15282e">3.2.1. Verify boot mode</a></li>
<li><a href="#org9adb4c9">3.2.2. Keyboard layout</a></li>
<li><a href="#org2b685f5">3.2.3. Connect to the internet</a></li>
<li><a href="#org34c59e6">3.2.4. Create partitions</a></li>
<li><a href="#org49a9503">3.2.5. You can also use <code>nmtui</code> which is a terminal based utility but with a UI.</a></li>
<li><a href="#org3f719c9">3.2.6. More than one wifi device</a></li>
<li><a href="#orga68de82">3.2.7. Driver for rtl88x2bu wifi adaptors</a></li>
<li><a href="#org1ab12fb">3.2.8. I had to update kernel headers</a></li>
</ul>
</li>
<li><a href="#org320facd">3.3. display manager</a></li>
</ul>
</li>
<li><a href="#org0b6e9a5">4. Set your wallpaper</a></li>
<li><a href="#orgf7ad0fb">5. Create <code>.xinitrc</code> file in your home directory.</a></li>
<li><a href="#orga721492">6. Install Yay helper</a></li>
<li><a href="#orga291d46">7. Install brave browser</a></li>
<li><a href="#orgb1fe879">8. File manager</a>
<ul>
<li><a href="#org9b99cb1">8.1. Enable previews in ranger</a></li>
<li><a href="#orgaddfc78">8.2. Install <code>w3m</code></a></li>
<li><a href="#org58af2cf">8.3. Install <code>mpv</code></a></li>
<li><a href="#org8766556">8.4. Few tips to use ranger effectively</a></li>
</ul>
</li>
<li><a href="#org5988911">9. Display Manager - dwm basics</a></li>
<li><a href="#org9ac6f37">10. Audio</a>
<ul>
<li><a href="#org7efd3a0">10.1. Make sure the volume up/down and mute works.</a></li>
</ul>
</li>
<li><a href="#org13122ab">11. Statusbar</a>
<ul>
<li><a href="#org390c058">11.1. <span class="todo TODO">TODO</span> Modify <code>.xsetroot.sh</code> to display volume and mute properly</a></li>
<li><a href="#org902e8f4">11.2. <span class="todo TODO">TODO</span> Modify <code>sxhkd</code> file above so that the volume up/down and mute keys updates the statusbar properly</a></li>
</ul>
</li>
<li><a href="#orgdfa7e55">12. Dropbox</a></li>
<li><a href="#org7581d91">13. Hotkeys</a></li>
<li><a href="#orgd33af02">14. Multiple displays with dwm</a>
<ul>
<li><a href="#org35f9c34">14.1. <span class="todo TODO">TODO</span> Ultrabase and second monitor</a></li>
</ul>
</li>
<li><a href="#org129967e">15. Directories</a>
<ul>
<li><a href="#org2cd8794">15.1. <span class="todo TODO">TODO</span> Create <code>.local/bin</code> and keep your scripts there</a></li>
<li><a href="#orga6edab6">15.2. <span class="todo TODO">TODO</span> Add <code>.local/bin</code> to your path</a></li>
</ul>
</li>
<li><a href="#org54a43fe">16. Connecting to my local samba server</a>
<ul>
<li><a href="#org54ba4f8">16.1. <span class="todo TODO">TODO</span> I am still trying to figure out the permission but worst case scenario I can always use sudo. No ideal but I Will fix it later.</a></li>
</ul>
</li>
<li><a href="#org341bfef">17. Mount external hard drive of type ntfs in rw mode</a></li>
<li><a href="#orgd9c7eff">18. Installing development tools</a></li>
<li><a href="#org1160fa8">19. Install Signal on Arch Linux</a></li>
<li><a href="#org789cdc6">20. Install and configure zsh</a></li>
<li><a href="#org2c81cf4">21. Install Zoom</a></li>
<li><a href="#orgbec1fb7">22. Install kdenlive</a></li>
<li><a href="#org4e57243">23. Install slack</a></li>
<li><a href="#org2710782">24. Install ksnip</a></li>
<li><a href="#org46d168b">25. Install sxiv</a></li>
<li><a href="#orge021717">26. Install fzf</a></li>
<li><a href="#org41f1d8f">27. Install jq</a></li>
<li><a href="#org678d4b5">28. Install fonts</a>
<ul>
<li><a href="#org19263c5">28.1. Install fonts manually</a></li>
</ul>
</li>
<li><a href="#org444f2fe">29. Change terminal fonts st</a></li>
<li><a href="#org09b3208">30. Transparency using Xcompmgr</a></li>
<li><a href="#org32c30cb">31. Show keystrokes on screen</a></li>
<li><a href="#org9e79e66">32. Install dunst</a></li>
<li><a href="#org422d5fb">33. Install wget</a></li>
<li><a href="#orgdceedcf">34. Set colours of dwm based on wallpaper</a></li>
<li><a href="#org75b9b9f">35. Install tmux</a></li>
<li><a href="#org9843e66">36. Install figlet and lolcat for visual improvements of the terminal</a></li>
<li><a href="#org5f402e5">37. Install gimp</a></li>
<li><a href="#org7e446dd">38. Install inkscape</a></li>
<li><a href="#orgd817c14">39. Install unzip</a></li>
<li><a href="#org6699c09">40. Install cowsay</a></li>
<li><a href="#org525ba19">41. Install bc</a></li>
<li><a href="#org4339cfb">42. Install mediainfo</a></li>
<li><a href="#org03e683d">43. Install xclip</a></li>
<li><a href="#orgc5f074c">44. Install sqlite3</a></li>
<li><a href="#orgfce4272">45. Install tmux</a></li>
<li><a href="#org59329fb">46. Install youtube-dl</a></li>
<li><a href="#org23811da">47. Install graphviz</a></li>
<li><a href="#orgb692267">48. Install slock</a></li>
<li><a href="#org2f446a7">49. Install rsync</a></li>
<li><a href="#org0934af7">50. Manage partitions using fdisk</a></li>
<li><a href="#orgbbf7463">51. Install Poppler</a></li>
<li><a href="#org5ec89ab">52. Install simple-mtpfs</a></li>
<li><a href="#orgf0e3a03">53. PDF readers and utilities</a></li>
<li><a href="#org325df91">54. Create pdf from multiple images</a></li>
<li><a href="#orgc52e73a">55. Convert pdf to png</a></li>
<li><a href="#orgaec229c">56. Convert docx to pdf using soffice</a></li>
<li><a href="#org8359456">57. Convert pdf to black and white</a></li>
<li><a href="#org1d37cf1">58. Reduce pdf size</a></li>
<li><a href="#org59c4468">59. Combine or unite pdf files</a></li>
<li><a href="#orgaf42c8c">60. Install Godot</a></li>
<li><a href="#org2220441">61. Update Arch</a></li>
<li><a href="#orgd87af63">62. Error: Failed to retrieve packages</a></li>
<li><a href="#org7f8dfbc">63. Install linux-headers</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgd417611" class="outline-2">
<h2 id="orgd417611"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
So you have decided to install Arch Linux? Great. Good decision. Whatever reason you have I guess you are a bit adventurous and want to learn.
</p>

<p>
Learning Linux these days is not difficult at all, there are plenty of tutorials online and that is great but I believe that learning fundamentals and basics is very important. I have been Linux user for 20 years now and whatever I learnt was for a reason like wifi not working or volume keys not working or unable to install a program. I have always used and stuck to Fedora along with KDE or xfce and they work really nicely. These days you install Fedora and everything will work out of the box (well mostly).
</p>

<p>
When things break or when you have problems to solve or when things are easy to understand then learning happens really well. I am not leaving fedora but I am kind of switching to Arch Linux after careful consideration.
</p>

<p>
My main reasons to move are following.
</p>

<ol class="org-ol">
<li>I want a super fast operating system that can work well on my old Laptops.</li>
<li>I want to relearn things that I learn, almost forgot and have not been using for many years.</li>
<li>I want to share my learnings in a form of blog or videos on my <a href="https://www.youtube.com/channel/UC0ds7DW6IIl7mXcyz5vMEHQ">channel</a>.</li>
<li>Most importantly - have fun.</li>
</ol>
</div>
</div>

<div id="outline-container-orgf5e893a" class="outline-2">
<h2 id="orgf5e893a"><span class="section-number-2">2</span> My Thinkpad configurations</h2>
<div class="outline-text-2" id="text-2">
<p>
In case you have the same model and want to setup Arch Linux with dwm then this tutorial will definitely help you.
</p>

<p>
Model: x220
Hard disk: 128GB SSD
RAM: 4GB
</p>
</div>
</div>
<div id="outline-container-orgf873f80" class="outline-2">
<h2 id="orgf873f80"><span class="section-number-2">3</span> Create the live usb drive</h2>
<div class="outline-text-2" id="text-3">
<p>
I <a href="https://www.archlinux.org/download/">downloaded</a> the iso and created the live usb.
</p>
<ul class="org-ul">
<li>Installation process</li>
</ul>
<p>
For the installation I mostly followed the official documentation.
</p>
</div>
<div id="outline-container-org1e2214c" class="outline-3">
<h3 id="org1e2214c"><span class="section-number-3">3.1</span> Boot in UEFI option</h3>
<div class="outline-text-3" id="text-3-1">
<p>
On Thinkpad x220 you have to keep the UEFI mode enabled in the BIOS. This installation is based on the assumption that you have UEFI mode enabled.
</p>
</div>
</div>
<div id="outline-container-org883b2fc" class="outline-3">
<h3 id="org883b2fc"><span class="section-number-3">3.2</span> Installation Steps</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Make sure you can boot from the usb. Check your boot order or when you start your Laptop press <code>F12</code>.
Once you boot from live usb you will get the prompt and then you will have to type commands to perform the installation.
</p>
</div>
<div id="outline-container-orge15282e" class="outline-4">
<h4 id="orge15282e"><span class="section-number-4">3.2.1</span> Verify boot mode</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
It is good to check whether you have booted in UEFI mode.
</p>

<div class="org-src-container">
<pre class="src src-shell">ls /sys/firmware/efi/efivars
</pre>
</div>
</div>
</div>
<div id="outline-container-org9adb4c9" class="outline-4">
<h4 id="org9adb4c9"><span class="section-number-4">3.2.2</span> Keyboard layout</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
This is kind of important especially when you have a keyboard which is in another language. Since I am in UK and I have UK keyboard so I changed the layout.
</p>

<div class="org-src-container">
<pre class="src src-shell">ls /usr/share/kbd/keymaps/**/*.map.gz
loadkeys uk
</pre>
</div>
</div>
</div>
<div id="outline-container-org2b685f5" class="outline-4">
<h4 id="org2b685f5"><span class="section-number-4">3.2.3</span> Connect to the internet</h4>
<div class="outline-text-4" id="text-3-2-3">
<p>
Check network interface.
</p>

<div class="org-src-container">
<pre class="src src-shell">ip link
</pre>
</div>

<p>
Then you can use the <code>iwctl</code> utility to connect your wifi interface to your wifi. Alternatively you can connect the ethernet cable.
</p>

<div class="org-src-container">
<pre class="src src-shell">device list
station wlan0 scan
station wlan0 get-networks
station wlan0 connect SSID
</pre>
</div>

<p>
Now ping your favourite site to check the connection <code>ping www.ravisagar.in</code>.
</p>

<p>
Update date and time.
</p>

<div class="org-src-container">
<pre class="src src-shell">timedatectl set-ntp true
</pre>
</div>

<p>
Check status
</p>

<div class="org-src-container">
<pre class="src src-shell">timedatectl status
</pre>
</div>
</div>
</div>

<div id="outline-container-org34c59e6" class="outline-4">
<h4 id="org34c59e6"><span class="section-number-4">3.2.4</span> Create partitions</h4>
<div class="outline-text-4" id="text-3-2-4">
<p>
This is probably the toughest part. Don't worry it will take just 5 minutes.
</p>

<p>
First check the connected drives.
</p>
<div class="org-src-container">
<pre class="src src-shell">fdisk -l
</pre>
</div>

<p>
Now perform <code>fdisk</code> on your drive. Make sure the drive is correct.
</p>

<div class="org-src-container">
<pre class="src src-shell">fdisk /dev/sda
</pre>
</div>

<p>
Press <code>g</code> and create a GPT partition table because we are using UEFI.
</p>

<p>
First create the EFI partition.
</p>

<p>
Press n and add a new partition
+550M
</p>

<p>
SWAP
n
+12G
</p>

<p>
BOOT
n
remaining
</p>

<p>
t: change partition type
</p>

<p>
1 (1 EFI System)
2 (19 Linux swap)
3 (20 Linux file system, default)
</p>

<p>
w: write to file system
</p>

<p>
Install base system
</p>

<p>
Install nano
</p>

<div class="org-src-container">
<pre class="src src-shell">pacman -S nano
</pre>
</div>

<p>
edit <code>/etc/locale.gen</code> and uncomment en<sub>GB.UTF</sub>-8 UTF-8
</p>

<p>
create /etc/locale.conf and add this line.
LANG=en<sub>GB.UTF</sub>-8
</p>

<p>
create /etc/vconsole.conf and add this line
KEYMAP=uk
</p>

<p>
Edit /etc/hostname and add your hostname "ravi-x220"
</p>

<p>
Edit /etc/hosts and add matching hostname
127.0.0.1	localhost
::1 localhost
127.0.1.1	ravi-x220.localdomain ravi-x220
</p>

<p>
Create root password
passwd
</p>

<p>
useradd -m ravisagar
passwd ravisagar
</p>

<p>
usermod -aG wheel,audio,video,optical,storage ravisagar
</p>

<p>
pacman -S sudo
</p>

<p>
uncomment the line <code>%wheel ALL=(ALL) NOPASSWD: ALL</code>
</p>

<p>
pacman -S grub efibootmgr dosfstools os-prober mtools
</p>

<p>
mkdir /boot/EFI
mount /dev/sda1 /boot/EFI
</p>

<p>
grub-install &#x2013;target=x86<sub>64</sub>-efi &#x2013;bootloader-id=grub<sub>uefi</sub> &#x2013;recheck
</p>

<p>
grub-mkconfig -o /boot/grub/grub.cfg
</p>

<p>
pacman -S networkmanager emacs git
systemctl enable NetworkManager
</p>

<p>
If you get Signature is unknown error then try this.
</p>

<p>
remove the /etc/pacman.d/gnupg folder and try
</p>

<p>
pacman-key &#x2013;init
pacman-key &#x2013;populate archlinux
</p>


<p>
IMPORTANT
</p>

<p>
The X220 will not boot /efi/*/*.efi unless signed(?) into BIOS, you have to copy it to /efi/boot/bootx64.efi or /EFI/boot/bootx64.efi
</p>

<p>
exit
umount -l /mnt
</p>

<p>
Post Installation
</p>

<p>
Connect to the internet
</p>

<p>
$ nmcli device wifi list
$ nmcli device wifi connect SSID password password
</p>
</div>
</div>

<div id="outline-container-org49a9503" class="outline-4">
<h4 id="org49a9503"><span class="section-number-4">3.2.5</span> You can also use <code>nmtui</code> which is a terminal based utility but with a UI.</h4>
</div>
<div id="outline-container-org3f719c9" class="outline-4">
<h4 id="org3f719c9"><span class="section-number-4">3.2.6</span> More than one wifi device</h4>
<div class="outline-text-4" id="text-3-2-6">
<p>
List all devices
</p>
<div class="org-src-container">
<pre class="src src-shell">nmcli device status
</pre>
</div>

<p>
To connect to a specific wifi device
</p>
<div class="org-src-container">
<pre class="src src-shell">nmcli device connect wlp3s0
</pre>
</div>

<p>
If the Laptop's in built wifi doesn't work then disconnect it.
</p>

<div class="org-src-container">
<pre class="src src-shell">nmcli device disconnect wlp3s0
</pre>
</div>
</div>
</div>

<div id="outline-container-orga68de82" class="outline-4">
<h4 id="orga68de82"><span class="section-number-4">3.2.7</span> Driver for rtl88x2bu wifi adaptors</h4>
<div class="outline-text-4" id="text-3-2-7">
<p>
I bought this usb wifi dongle and trying to make it work
<a href="https://github.com/cilynx/rtl88x2bu">https://github.com/cilynx/rtl88x2bu</a>
</p>

<p>
I had to install <code>dkms</code> package
</p>

<p>
How to install this driver?
</p>
<div class="org-src-container">
<pre class="src src-shell">git clone https://github.com/cilynx/rtl88x2bu
<span style="color: #e090d7;">cd</span> rtl88x2bu/
./delpoy.sh
</pre>
</div>
</div>
</div>

<div id="outline-container-org1ab12fb" class="outline-4">
<h4 id="org1ab12fb"><span class="section-number-4">3.2.8</span> I had to update kernel headers</h4>
<div class="outline-text-4" id="text-3-2-8">
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S kernel-headers
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org320facd" class="outline-3">
<h3 id="org320facd"><span class="section-number-3">3.3</span> display manager</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Install dwm, dmenu and st
</p>

<p>
<a href="https://stackoverflow.com/questions/31275672/how-to-install-dwm-in-arch-linux">https://stackoverflow.com/questions/31275672/how-to-install-dwm-in-arch-linux</a>
</p>

<p>
sudo pacman -S make gcc pkg-config
</p>
</div>
</div>
</div>
<div id="outline-container-org0b6e9a5" class="outline-2">
<h2 id="org0b6e9a5"><span class="section-number-2">4</span> Set your wallpaper</h2>
<div class="outline-text-2" id="text-4">
<p>
pacman -S wallpaper
xwallpaper &#x2013;stretch ~/projects/ravisagar-wallpapers/2020-11-10<sub>burnham</sub>-park-hall.jpg
</p>

<p>
<code>man xwallpaper</code> to check other options
</p>
</div>
</div>

<div id="outline-container-orgf7ad0fb" class="outline-2">
<h2 id="orgf7ad0fb"><span class="section-number-2">5</span> Create <code>.xinitrc</code> file in your home directory.</h2>
<div class="outline-text-2" id="text-5">
<p>
You need to start the window manager automatically and also other application and this file is for that purpose.
</p>

<p>
Create a file <code>~/.xinitrc</code> with the following content in your home directory.
</p>

<pre class="example">
#!/bin/sh

# Set keyboard layout
setxkbmap gb &amp;

# Statusbar loop
while true; do
    sh ~/.xsetroot.sh
    dock.sh
    sleep 1m    # Update time every minute
done &amp;

## Autostart section
pcmanfm &amp; 

# This is copy paste
autocutsel -fork &amp;
autocutsel -selection PRIMARY -fork &amp;

# Dropbox
dropbox start -i &amp;

#Set configure monitor
xrandr --output VGA-1 --auto --left-of LVDS-1

#Set random wallpaper
random-wallpaper.sh

# Make IntelliJ work on Arch Linux with dwm
wmname LG3D
export _JAVA_AWT_WM_NONREPARENTING=1

#Environment variables
export YOUTUBE_API_KEY="AIzaSyCwR3kiuBQNf_0-QRcxOfRanFgV9egiOSY"
export JIRATUTORIAL_AUTH="cmF2aXNhZ2FyQGdtYWlsLmNvbTpoZk9LUFdQdUJ3UGxjSE1vcHdkdzM2MzY="
#Xcompmgr -c -C -t-5 -l-5 -r4.2 -o.55 &amp;
exec dunst &amp;
exec sxhkd &amp;
exec ksnip &amp;
exec dwm
</pre>

<p>
Refer to this page for more details: <a href="https://wiki.archlinux.org/index.php/Dwm">https://wiki.archlinux.org/index.php/Dwm</a>
</p>
</div>
</div>

<div id="outline-container-orga721492" class="outline-2">
<h2 id="orga721492"><span class="section-number-2">6</span> Install Yay helper</h2>
<div class="outline-text-2" id="text-6">
<p>
I don't honestly know what it is but when I tried installing brave using <code>pacman</code> it didn't work and the brave website said that you need to run <code>yay -S brave-bin</code>
</p>

<p>
Update system packages
</p>

<p>
sudo pacman -S fakeroot
</p>

<p>
sudo pacman -Syy
</p>

<p>
sudo git clone <a href="https://aur.archlinux.org/yay-git.git">https://aur.archlinux.org/yay-git.git</a>
</p>

<p>
$ sudo chown -R ravisagar:ravisagar yay-git
</p>

<p>
$ cd yay-git
</p>

<p>
$ makepkg -si
</p>
</div>
</div>

<div id="outline-container-orga291d46" class="outline-2">
<h2 id="orga291d46"><span class="section-number-2">7</span> Install brave browser</h2>
<div class="outline-text-2" id="text-7">
<p>
You would need yay to install brave browser.
</p>
<div class="org-src-container">
<pre class="src src-shell">~yay -S brave-bin~
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb1fe879" class="outline-2">
<h2 id="orgb1fe879"><span class="section-number-2">8</span> File manager</h2>
<div class="outline-text-2" id="text-8">
<p>
Ranger seems to be good so install that.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S ranger
</pre>
</div>

<p>
I mostly use emacs as a file browser when dealing with text based files.
</p>

<p>
Setup ranger.
</p>

<div class="org-src-container">
<pre class="src src-shell">ranger --copy-config=all
</pre>
</div>

<p>
It will generate the following files in <code>~/.config/ranger/</code>
</p>

<ul class="org-ul">
<li>rc.conf</li>
<li>rifle.conf</li>
<li>scope.sh</li>
<li>commands.py</li>
<li>commands<sub>full.py</sub></li>
</ul>
</div>

<div id="outline-container-org9b99cb1" class="outline-3">
<h3 id="org9b99cb1"><span class="section-number-3">8.1</span> Enable previews in ranger</h3>
<div class="outline-text-3" id="text-8-1">
<p>
In your <code>rc.conf</code> set <code>user_preview_script</code> to <code>true</code> and restart ranger. It will then start using <code>scope.sh</code> to generate the image previews which is a shell script that uses <code>w3m</code>.
</p>
</div>
</div>

<div id="outline-container-orgaddfc78" class="outline-3">
<h3 id="orgaddfc78"><span class="section-number-3">8.2</span> Install <code>w3m</code></h3>
<div class="outline-text-3" id="text-8-2">
<p>
Simple.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S w3m
</pre>
</div>
</div>
</div>

<div id="outline-container-org58af2cf" class="outline-3">
<h3 id="org58af2cf"><span class="section-number-3">8.3</span> Install <code>mpv</code></h3>
<div class="outline-text-3" id="text-8-3">
<p>
mpv is a command line utility for media consumption. Let us install it.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S mpv
</pre>
</div>
</div>
</div>

<div id="outline-container-org8766556" class="outline-3">
<h3 id="org8766556"><span class="section-number-3">8.4</span> Few tips to use ranger effectively</h3>
<div class="outline-text-3" id="text-8-4">
<ul class="org-ul">
<li>Show hidden files on the fly: <code>:set show_hidden true</code>.</li>
<li><code>rifle.conf</code> is the file that tell ranger which utility to use for opening files based on their extension or MIME type. Do take a look at it.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org5988911" class="outline-2">
<h2 id="org5988911"><span class="section-number-2">9</span> Display Manager - dwm basics</h2>
<div class="outline-text-2" id="text-9">
<p>
I am still getting used to it but I think I know enough to use it for most of my work. It is great and get things really fast. I think if you know shortcuts then you can start using it quickly.
</p>

<p>
There is a Mod key which is by default the ALT key.
</p>

<ul class="org-ul">
<li>Mod-Shift-Q to kill dwm and then restart using <code>startx</code>, there is a better way to do it by adding some lines in your <code>.xinintrc</code></li>
<li>Mod-1, Mod-2, Mod-x will switch the workspace on top</li>
<li>Mod-Shift-x will move the current window to that workspace</li>
<li>Mod-shift-Enter will open st</li>
<li>Mod-j and Mod-k will cycle through all the windows</li>
<li>Mod-Shift-c will close current window</li>
<li>Mod-Tab works as usual but between workspaces</li>
<li>Mod-l increase size of active window</li>
<li>Mod-h decrease size of active window</li>
<li>Mod-Enter will swap will main the second window in the ring as active</li>
<li>Mod-i to increment the main and Mod-d to decrement the main window. If you pres Mod-d then the split will become horizontal and you will have to press Mod-i to return to vertical split.</li>
<li>Mod-B toggle the top bar.</li>
</ul>
<p>
Mulitple monitors? no problem.
</p>
<ul class="org-ul">
<li>Mod-, previous screen</li>
<li>Mod-. next screen</li>
<li>Mod-Shift-, move application to previous screen</li>
<li>Mod-Shit-. move application to next screen</li>
</ul>


<p>
You can watch <a href="https://youtu.be/QianBRQ4Bwo">my video</a> or look at this very good tutorial <a href="http://ratfactor.com/dwm">here</a>.
</p>
</div>
</div>
<div id="outline-container-org9ac6f37" class="outline-2">
<h2 id="org9ac6f37"><span class="section-number-2">10</span> Audio</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S alsa-utils
</pre>
</div>
</div>
<div id="outline-container-org7efd3a0" class="outline-3">
<h3 id="org7efd3a0"><span class="section-number-3">10.1</span> Make sure the volume up/down and mute works.</h3>
<div class="outline-text-3" id="text-10-1">
<p>
Make changes in your <code>/usr/src/dwm/config.h</code> as per the code below and the run <code>sudo make clean install</code>
</p>

<p>
<a href="https://gist.github.com/palopezv/efd34059af6126ad970940bcc6a90f2e">Link</a> to github.
</p>
</div>
</div>
</div>
<div id="outline-container-org13122ab" class="outline-2">
<h2 id="org13122ab"><span class="section-number-2">11</span> Statusbar</h2>
<div class="outline-text-2" id="text-11">
<p>
cat /proc/net/wireless
cat /sys/class/power<sub>supply</sub>/BAT0/capacity
Create a script put it in <code>.xinitrc</code> and sleep the script for 1 min.
</p>

<p>
Now the cool thing is that you can also run this whenever you want, you don't have to wait for 1 minute. This is needed for things like volumne control and brightness.
</p>

<p>
In the while loop of your <code>.xinitrc</code> just place this instead.
</p>

<p>
<code>sh .xsetroot.sh</code>
</p>

<p>
Then in your home directory create this file and put the xsetroot command from your <code>.xinitrc</code> file to this file.
</p>

<p>
Take a look at my <code>.xsetrootrc</code> file.
</p>

<pre class="example">
#!/bin/sh

dwm_alsa () {
    STATUS=$(amixer sget Master | tail -n1 | sed -r "s/.*\[(.*)\]/\1/")
    VOL=$(amixer get Master | tail -n1 | sed -r "s/.*\[(.*)%\].*/\1/")

    printf "$STATUS $VOL"
    }

brightness=$(cat /sys/class/backlight/acpi_video0/brightness)
power=$(cat /sys/class/power_supply/BAT0/capacity)%
currentsong=$(ncmpcpp --current-song -q)
#currentdate=$(date -d '7 hours ago')
currentdate=$(date)
memoryusage=$(free -h | awk '/^Mem:/ {print $3 "/" $2}')
currentweather=$(curl -s wttr.in/"Burnham,UK"?format="%t")

xsetroot -name "$currentsong | \
$memoryusage | \
$brightness | \
$power | \
$currentweather | \
$currentdate"
</pre>

<p>
We are also calling <code>ncmpcpp --current-song -q</code> to get the current song.
</p>

<p>
However we are not done yet. We need to call <code>.xsetroot.sh</code> when we press volumne up/down or brightness up/down buttons.
</p>

<pre class="example">
super + shift + a
      st alsamixer -c 1
super + shift + e
      ~/Dropbox/./emacs_portable.sh &amp; disown &amp; exit
super + e
      st em
XF86MonBrightness{Up,Down}
	sh ~/.xsetroot.sh
XF86XK_AudioMute
	sh .xsetroot.sh
XF86XK_Audio{Raise,Lower}Volume
	sh .xsetroot.sh
XF86Audio{Prev,Next}
	mpc {prev,next};
alt + {Left,Right}
	mpc {prev,next}
alt + {Up,Down}
      	mpc {stop,toggle}
XF86Audio{Play,Stop}
	mpc {toggle,stop}
alt + {KP_Add,KP_Subtract}
	mpc volume {+2,-2}
alt + k
    st ~/.local/bin/search-youtube-dmenu.sh
super + {w,KP_Add,KP_Subtract}
      show-webcam {show,zoom_in,zoom_out}
super + c
      colours
</pre>
</div>

<div id="outline-container-org390c058" class="outline-3">
<h3 id="org390c058"><span class="section-number-3">11.1</span> <span class="todo TODO">TODO</span> Modify <code>.xsetroot.sh</code> to display volume and mute properly</h3>
</div>
<div id="outline-container-org902e8f4" class="outline-3">
<h3 id="org902e8f4"><span class="section-number-3">11.2</span> <span class="todo TODO">TODO</span> Modify <code>sxhkd</code> file above so that the volume up/down and mute keys updates the statusbar properly</h3>
</div>
</div>

<div id="outline-container-orgdfa7e55" class="outline-2">
<h2 id="orgdfa7e55"><span class="section-number-2">12</span> Dropbox</h2>
<div class="outline-text-2" id="text-12">
<p>
Yes I use dropbox mainly for syncing my org files. Emacs isone such tools that solves lot of my problems and I need Emacs on my main machine as well as secondary machine.
</p>

<p>
Update repository
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -Sy
</pre>
</div>

<p>
Download dropbox from the repository.
</p>
<div class="org-src-container">
<pre class="src src-shell">mkdir ~/downloads
git clone https://aur.archlinux.org/dropbox.git
<span style="color: #e090d7;">cd</span> dropbox
makepkg -s
sudo pacman -U dropbox*.pkg.tar.xz
</pre>
</div>

<p>
If you get errors with the keys then do this.
</p>

<div class="org-src-container">
<pre class="src src-shell">gpg --recv-keys --keyserver hkp://p80.pool.sks-keyservers.net:80 FC918B335044912E
</pre>
</div>

<p>
Start dropbox
</p>

<div class="org-src-container">
<pre class="src src-shell">dropbox-cli start
</pre>
</div>

<p>
It will give you a unique url that you can copy and paste in your browser and it will authenticate.
</p>

<p>
You will then get a folder <code>Dropbox</code> in your home directory.
</p>

<p>
Check dropbox is running.
</p>

<div class="org-src-container">
<pre class="src src-shell">dropbox-cli status
</pre>
</div>

<p>
To start dropbox when you start x add this in your <code>.xinitrc</code>
</p>

<div class="org-src-container">
<pre class="src src-shell">dropbox start -i &amp;
</pre>
</div>
</div>
</div>

<div id="outline-container-org7581d91" class="outline-2">
<h2 id="org7581d91"><span class="section-number-2">13</span> Hotkeys</h2>
<div class="outline-text-2" id="text-13">
<p>
It is always great to start you favourite application or do something quickly by using hotkeys. I use <code>sxhkd</code> for doing that, it is light weight but works great and it seems quite powerful too.
</p>

<p>
Install sxhkd.
</p>

<div class="org-src-container">
<pre class="src src-shell">pacman -S sxhkd
</pre>
</div>

<p>
Create a file <code>/.config/sxhkd/sxhkdrc</code> and copy some bindings from this <a href="https://wiki.archlinux.org/index.php/Sxhkd">site</a>.
</p>

<p>
Now if you run <code>sxhkd</code> and try some key bindings but we need to run it automatically when startx is started so we will use our dear <code>/.xinintrc</code>. So add <code>exec sxhkd</code> &amp; before <code>exec dwm</code>
</p>

<div class="org-src-container">
<pre class="src src-shell" id="orgf98d4ec">cat /home/ravisagar/.config/sxhkd/sxhkdrc
</pre>
</div>

<pre class="example">
super + shift + a
      st alsamixer -c 1
super + shift + e
      st ~/Dropbox/./emacs_portable.sh
XF86MonBrightness{Up,Down}
	sh .xsetroot.sh
XF86XK_AudioMute
	sh .xsetroot.sh
XF86XK_Audio{Raise,Lower}Volume
	sh .xsetroot.sh
XF86Audio{Prev,Next}
	mpc {prev,next}
alt + {Left,Right}
	mpc {prev,next}
alt + {Up,Down}
      	mpc {stop,toggle}
XF86Audio{Play,Stop}
	mpc {toggle,stop}
alt + {KP_Add,KP_Subtract}
	mpc volume {+2,-2}
</pre>

<p>
Check this <a href="https://blog.dbrgn.ch/2012/1/19/dwm-config-volume-battery-notification-unread-e-mail-count-more/">blog</a> as well.
You can also check <a href="https://youtu.be/sTVTm9D4rYQ">my video</a> on Simple X Hotkey Daemon.
</p>

<p>
If you want to know the keys then use the <code>xev</code> in your terminal and press the keys.
</p>
</div>
</div>

<div id="outline-container-orgd33af02" class="outline-2">
<h2 id="orgd33af02"><span class="section-number-2">14</span> Multiple displays with dwm</h2>
<div class="outline-text-2" id="text-14">
<p>
It is simple, first check connected displays with <code>xrandr</code> command.
</p>

<p>
Mirror output
</p>
<div class="org-src-container">
<pre class="src src-shell">xrandr --output VGA-1 --auto --same-as LVDS-1 --mode 1024x768
</pre>
</div>

<p>
Extend the desktop
</p>
<div class="org-src-container">
<pre class="src src-shell">xrandr --output VGA-1 --auto --right-of LVDS-1
</pre>
</div>

<p>
Smoothly turn off the second monitor.
</p>
<div class="org-src-container">
<pre class="src src-shell">xrandr --output VGA-1 --auto --right-of LVDS-1 --off
</pre>
</div>

<p>
More details <a href="https://dwm.suckless.org/multi-monitor/">here</a>.
</p>
</div>
<div id="outline-container-org35f9c34" class="outline-3">
<h3 id="org35f9c34"><span class="section-number-3">14.1</span> <span class="todo TODO">TODO</span> Ultrabase and second monitor</h3>
<div class="outline-text-3" id="text-14-1">
<p>
One thing that I have yet to configure is to automatically turn on/off the extended display when laptop is lifted from the ultrabase, mount/umount the external drive and set the keyboard layout again when laptop is placed on ultrabase using <code>setxkbmap gb</code>. I am sure there is a script that I can run when ultrabase is detected.
</p>
</div>
</div>
</div>
<div id="outline-container-org129967e" class="outline-2">
<h2 id="org129967e"><span class="section-number-2">15</span> Directories</h2>
<div class="outline-text-2" id="text-15">
</div><div id="outline-container-org2cd8794" class="outline-3">
<h3 id="org2cd8794"><span class="section-number-3">15.1</span> <span class="todo TODO">TODO</span> Create <code>.local/bin</code> and keep your scripts there</h3>
</div>
<div id="outline-container-orga6edab6" class="outline-3">
<h3 id="orga6edab6"><span class="section-number-3">15.2</span> <span class="todo TODO">TODO</span> Add <code>.local/bin</code> to your path</h3>
</div>
</div>
<div id="outline-container-org54a43fe" class="outline-2">
<h2 id="org54a43fe"><span class="section-number-2">16</span> Connecting to my local samba server</h2>
<div class="outline-text-2" id="text-16">
<p>
I mentioned in one of my previous blog that I have a samba server where I keep my files. So let us connect to it.
</p>

<p>
Install <code>smbclient</code>
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S smbclient
</pre>
</div>

<p>
Create <code>/etc/samba/smb.conf</code> empty file because it is needed by <code>smbclient</code>.
</p>

<p>
List the public share on your hostname.
</p>

<div class="org-src-container">
<pre class="src src-shell" id="orgafa52af">smbclient -L ravi-netbook -U%
</pre>
</div>

<p>
Before you can mount this samba share you will have to load the <code>cifs</code> kernel module.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo modprobe cifs
</pre>
</div>

<p>
I just realised that I don't have ssh.
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S openssh
</pre>
</div>

<p>
Create a directory to mount this samba location.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo mkdir /mnt/ravi-netbook
</pre>
</div>

<p>
Modify your <code>/etc/fstab</code> and add an entry for your mount
</p>

<div class="org-src-container">
<pre class="src src-shell">//ravi-netbook/public /mnt/mountpoint cifs _netdev,<span style="color: #fcaf3e;">username</span>=myuser,<span style="color: #fcaf3e;">password</span>=mypass 0 0
</pre>
</div>

<p>
Enable and start the Network Manage wait online service.
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo systemctl start NetworkManager-wait-online.service
sudo systemctl enable NetworkManager-wait-online.service
</pre>
</div>

<p>
Now reboot your computer and test if this network storage is mounted or not. 
</p>
</div>
<div id="outline-container-org54ba4f8" class="outline-3">
<h3 id="org54ba4f8"><span class="section-number-3">16.1</span> <span class="todo TODO">TODO</span> I am still trying to figure out the permission but worst case scenario I can always use sudo. No ideal but I Will fix it later.</h3>
</div>
</div>
<div id="outline-container-org341bfef" class="outline-2">
<h2 id="org341bfef"><span class="section-number-2">17</span> Mount external hard drive of type ntfs in rw mode</h2>
<div class="outline-text-2" id="text-17">
<p>
If your external hard disk is formatted using ntfs then you might face problems writing to it after mounting it, however there is a solution. It is possible mount with read write access if you can install <code>ntfs-3g</code>.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S ntfs-3g
</pre>
</div>

<p>
Now mount as usual and enjoy. More details can be found <a href="https://wiki.archlinux.org/index.php/NTFS-3G">here</a>.
</p>
</div>
</div>
<div id="outline-container-orgd9c7eff" class="outline-2">
<h2 id="orgd9c7eff"><span class="section-number-2">18</span> Installing development tools</h2>
<div class="outline-text-2" id="text-18">
<p>
Let us install some tools I need for development and automation.
</p>

<p>
Groovy
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S groovy
</pre>
</div>

<p>
It will ask you to select the source. Just press enter few times and you should be ok.f
</p>
</div>
</div>
<div id="outline-container-org1160fa8" class="outline-2">
<h2 id="org1160fa8"><span class="section-number-2">19</span> Install Signal on Arch Linux</h2>
<div class="outline-text-2" id="text-19">
<p>
It is surprisingly easy.
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S signal-desktop
</pre>
</div>

<p>
I faced problem when startin signal and I had to upadate my Arch linux.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -Syu
</pre>
</div>
</div>
</div>
<div id="outline-container-org789cdc6" class="outline-2">
<h2 id="org789cdc6"><span class="section-number-2">20</span> Install and configure zsh</h2>
<div class="outline-text-2" id="text-20">
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S zsh
sudo pacman -S zsh-completions
</pre>
</div>
</div>
</div>
<div id="outline-container-org2c81cf4" class="outline-2">
<h2 id="org2c81cf4"><span class="section-number-2">21</span> Install Zoom</h2>
<div class="outline-text-2" id="text-21">
<p>
Clone the repository and install it.
</p>
<div class="org-src-container">
<pre class="src src-shell">git clone https://aur.archlinux.org/zoom.git
<span style="color: #e090d7;">cd</span> zoom
makepkg -si
</pre>
</div>

<p>
Uninstall Zoom
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -Rs zoom
</pre>
</div>

<p>
Upgrade by repeating the steps.
</p>
</div>
</div>
<div id="outline-container-orgbec1fb7" class="outline-2">
<h2 id="orgbec1fb7"><span class="section-number-2">22</span> Install kdenlive</h2>
<div class="outline-text-2" id="text-22">
<p>
Simple.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S kdenlive
</pre>
</div>

<p>
If you get an error then update the system.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -Syu
</pre>
</div>
</div>
</div>
<div id="outline-container-org4e57243" class="outline-2">
<h2 id="org4e57243"><span class="section-number-2">23</span> Install slack</h2>
<div class="outline-text-2" id="text-23">
<p>
It is easy as well.
</p>

<div class="org-src-container">
<pre class="src src-shell">git clone https://aur.archlinux.org/slack-desktop.git
<span style="color: #e090d7;">cd</span> slack-desktop/
makepkg -sri
</pre>
</div>

<p>
All done now, use the <code>slack</code> command to run it.
</p>
</div>
</div>

<div id="outline-container-org2710782" class="outline-2">
<h2 id="org2710782"><span class="section-number-2">24</span> Install ksnip</h2>
<div class="outline-text-2" id="text-24">
<p>
I was using <code>scrot</code> since November last year and it works nicely for taking quick screenshots but I was looking for something a bit more advanced. Especially tool where I can make annotations on the screenshots and do bit of editing on the fly. I was initially thinking of using Nimbus Chrome(Brave) extension but I didn't like the way it was asking for lot of permissions. So I found <code>ksnip</code> and let us install it.
</p>

<div class="org-src-container">
<pre class="src src-shell">git clone https://aur.archlinux.org/ksnip.git
<span style="color: #e090d7;">cd</span> ksnip/
makepkg -si
</pre>
</div>

<ul class="org-ul">
<li>Shortcut to take screenshot using <code>Shift + R</code> from the active ksnip window</li>
<li>After opening ksnip, close it and then you can take screenshot using <code>Ctrl + Shift + R</code></li>
</ul>
</div>
</div>
<div id="outline-container-org46d168b" class="outline-2">
<h2 id="org46d168b"><span class="section-number-2">25</span> Install sxiv</h2>
<div class="outline-text-2" id="text-25">
<p>
I found this nice image viewer.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S sxiv
</pre>
</div>
</div>
</div>
<div id="outline-container-orge021717" class="outline-2">
<h2 id="orge021717"><span class="section-number-2">26</span> Install fzf</h2>
</div>
<div id="outline-container-org41f1d8f" class="outline-2">
<h2 id="org41f1d8f"><span class="section-number-2">27</span> Install jq</h2>
</div>
<div id="outline-container-org678d4b5" class="outline-2">
<h2 id="org678d4b5"><span class="section-number-2">28</span> Install fonts</h2>
<div class="outline-text-2" id="text-28">
<p>
These fonts are quite good.
</p>

<p>
ttf-font-awesome
adobe-source-code-pro-fonts
</p>

<p>
Install them using pacman.
</p>
</div>

<div id="outline-container-org19263c5" class="outline-3">
<h3 id="org19263c5"><span class="section-number-3">28.1</span> Install fonts manually</h3>
<div class="outline-text-3" id="text-28-1">
<p>
I have my own collection of fonts from many year and wanted to use them.
</p>

<p>
Download the fonts to <code>~/.local/share/fonts/</code> directory. You can have fonts in their own directory and without directories, Arch linux will and should be able to recognise them.
</p>

<p>
You can also run <code>fc-cache</code> if needed but for me it worked without running it.
</p>
</div>
</div>
</div>

<div id="outline-container-org444f2fe" class="outline-2">
<h2 id="org444f2fe"><span class="section-number-2">29</span> Change terminal fonts st</h2>
<div class="outline-text-2" id="text-29">
<p>
Modify this line in your <code>/usr/src/st/config.h</code>
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #b4fa70;">static</span> <span style="color: #8cc4ff;">char</span> *<span style="color: #fcaf3e;">font</span> = <span style="color: #e9b96e;">"Source Code Pro:pixelsize=12:antialias=true:autohint=true"</span>;
</pre>
</div>
</div>
</div>
<div id="outline-container-org09b3208" class="outline-2">
<h2 id="org09b3208"><span class="section-number-2">30</span> Transparency using Xcompmgr</h2>
<div class="outline-text-2" id="text-30">
<p>
Add this in your <code>~/.xinintrc</code>
</p>

<div class="org-src-container">
<pre class="src src-shell">xcompmgr -c -C -t-5 -l-5 -r4.2 -o.55 &amp;
</pre>
</div>
</div>
</div>
<div id="outline-container-org32c30cb" class="outline-2">
<h2 id="org32c30cb"><span class="section-number-2">31</span> Show keystrokes on screen</h2>
<div class="outline-text-2" id="text-31">
<p>
Sometimes it is cool to show your keystrokes on the screen. It is possible using the following utility.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo paman -S screenkey
</pre>
</div>
</div>
</div>
<div id="outline-container-org9e79e66" class="outline-2">
<h2 id="org9e79e66"><span class="section-number-2">32</span> Install dunst</h2>
<div class="outline-text-2" id="text-32">
<p>
This is great for sending notifications.
</p>

<p>
After installing the package just copy the <code>dunstrc</code> file from Github and copy it to <code>~/.config/dunst/dunstrc</code>
</p>
</div>
</div>

<div id="outline-container-org422d5fb" class="outline-2">
<h2 id="org422d5fb"><span class="section-number-2">33</span> Install wget</h2>
</div>
<div id="outline-container-orgdceedcf" class="outline-2">
<h2 id="orgdceedcf"><span class="section-number-2">34</span> Set colours of dwm based on wallpaper</h2>
<div class="outline-text-2" id="text-34">
<p>
Install <code>python-pywal</code>
</p>
</div>
</div>
<div id="outline-container-org75b9b9f" class="outline-2">
<h2 id="org75b9b9f"><span class="section-number-2">35</span> Install tmux</h2>
<div class="outline-text-2" id="text-35">
<p>
Watch this video from BugsWriter.
</p>
</div>
</div>
<div id="outline-container-org9843e66" class="outline-2">
<h2 id="org9843e66"><span class="section-number-2">36</span> Install figlet and lolcat for visual improvements of the terminal</h2>
<div class="outline-text-2" id="text-36">
<div class="org-src-container">
<pre class="src src-shell">clear; <span style="color: #b4fa70;">while</span> true; <span style="color: #b4fa70;">do </span><span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">"Learn Linux"</span> | figlet | lolcat; sleep 1; <span style="color: #b4fa70;">done</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5f402e5" class="outline-2">
<h2 id="org5f402e5"><span class="section-number-2">37</span> Install gimp</h2>
<div class="outline-text-2" id="text-37">
<p>
This is a must have for image editing.
</p>

<p>
Install resynthesizer.
</p>

<p>
Details <a href="https://github.com/bootchk/resynthesizer/wiki/Install-Resynthesizer">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S flatpak
flatpak install flathub org.gimp.GIMP
flatpak search org.gimp.GIMP.Plugin
flatpak install org.gimp.GIMP.Plugin.Resynthesizer
</pre>
</div>

<p>
Run GIMP using this command.
</p>
<div class="org-src-container">
<pre class="src src-shell">flatpak run org.gimp.GIMP
</pre>
</div>
</div>
</div>

<div id="outline-container-org7e446dd" class="outline-2">
<h2 id="org7e446dd"><span class="section-number-2">38</span> Install inkscape</h2>
<div class="outline-text-2" id="text-38">
<p>
Again really good for vector graphics and comics.
</p>
</div>
</div>
<div id="outline-container-orgd817c14" class="outline-2">
<h2 id="orgd817c14"><span class="section-number-2">39</span> Install unzip</h2>
</div>
<div id="outline-container-org6699c09" class="outline-2">
<h2 id="org6699c09"><span class="section-number-2">40</span> Install cowsay</h2>
</div>
<div id="outline-container-org525ba19" class="outline-2">
<h2 id="org525ba19"><span class="section-number-2">41</span> Install bc</h2>
</div>
<div id="outline-container-org4339cfb" class="outline-2">
<h2 id="org4339cfb"><span class="section-number-2">42</span> Install mediainfo</h2>
<div class="outline-text-2" id="text-42">
<p>
Command line utility to get the media info.
</p>
</div>
</div>
<div id="outline-container-org03e683d" class="outline-2">
<h2 id="org03e683d"><span class="section-number-2">43</span> Install xclip</h2>
</div>
<div id="outline-container-orgc5f074c" class="outline-2">
<h2 id="orgc5f074c"><span class="section-number-2">44</span> Install sqlite3</h2>
<div class="outline-text-2" id="text-44">
<p>
This is needed for org-roam
</p>
</div>
</div>
<div id="outline-container-orgfce4272" class="outline-2">
<h2 id="orgfce4272"><span class="section-number-2">45</span> Install tmux</h2>
</div>
<div id="outline-container-org59329fb" class="outline-2">
<h2 id="org59329fb"><span class="section-number-2">46</span> Install youtube-dl</h2>
<div class="outline-text-2" id="text-46">
<p>
Check available formats that are available for download.
</p>
<div class="org-src-container">
<pre class="src src-shell">youtube-dl -F https://youtu.be/WiCRo1xto-A
</pre>
</div>

<p>
You will get format code for various audio and video with different quality.
</p>

<p>
For example download the audio only.
</p>
<div class="org-src-container">
<pre class="src src-shell">youtube-dl -f 140 https://youtu.be/WiCRo1xto-A
</pre>
</div>

<p>
Download video only.
</p>
<div class="org-src-container">
<pre class="src src-shell">youtube-dl -f 137 https://youtu.be/WiCRo1xto-A
</pre>
</div>

<p>
Using <code>youtube-dl</code> you can download the best quality video and audio and merge them. First format should be of a video.
</p>
<div class="org-src-container">
<pre class="src src-shell">youtube-dl -f 137+140 https://youtu.be/WiCRo1xto-A
</pre>
</div>

<p>
You can also create an <code>alias</code> is needed so we don't have to type these codes all the times. I think the code remains the same but even if they change we can write a shell script to pick the code based on the resolution we want.
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #e090d7;">alias</span> <span style="color: #fcaf3e;">ytdl</span>=<span style="color: #e9b96e;">"youtube-dl -f 137+140"</span>
</pre>
</div>

<p>
I hope it helped.
</p>
</div>
</div>

<div id="outline-container-org23811da" class="outline-2">
<h2 id="org23811da"><span class="section-number-2">47</span> Install graphviz</h2>
<div class="outline-text-2" id="text-47">
<p>
This is needed for org-roam to generate graphs.
</p>
</div>
</div>
<div id="outline-container-orgb692267" class="outline-2">
<h2 id="orgb692267"><span class="section-number-2">48</span> Install slock</h2>
<div class="outline-text-2" id="text-48">
<div class="org-src-container">
<pre class="src src-shell">git clone https://git.suckless.org/slock
<span style="color: #e090d7;">cd</span> slock
sudo make install
</pre>
</div>

<p>
If you run slock now it will most probably not work. So modify the <code>config.h</code> file and enter your username an group. Check your groups using <code>groups</code>. Simple utility.
</p>
</div>
</div>
<div id="outline-container-org2f446a7" class="outline-2">
<h2 id="org2f446a7"><span class="section-number-2">49</span> Install rsync</h2>
</div>
<div id="outline-container-org0934af7" class="outline-2">
<h2 id="org0934af7"><span class="section-number-2">50</span> Manage partitions using fdisk</h2>
<div class="outline-text-2" id="text-50">
<p>
Check existing devices, partitions and types.
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo fdisk -l
</pre>
</div>

<p>
Check attached disks.
</p>
<div class="org-src-container">
<pre class="src src-shell">lsblk
</pre>
</div>

<p>
Connect to the disk your want to manage.
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo fdisk /dev/sdd
</pre>
</div>

<p>
Follow the fdisk commands to list, delete or create partitions. Press w to write changes.
</p>

<p>
Create a file system or format a partition.
</p>
<div class="org-src-container">
<pre class="src src-shell">mkfs.ntfs /dev/sdd1
</pre>
</div>
<p>
or for linux file systems.
</p>
<div class="org-src-container">
<pre class="src src-shell">mkfs.ext4 /dev/sdd1
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbbf7463" class="outline-2">
<h2 id="orgbbf7463"><span class="section-number-2">51</span> Install Poppler</h2>
<div class="outline-text-2" id="text-51">
<p>
If you want to convert pdf to text then you can use pdftotext from <a href="https://github.com/jalan/pdftotext">https://github.com/jalan/pdftotext</a> but on Arch Linux this utility is part of poppler which you can install easily using pacman :).
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S poppler
</pre>
</div>
</div>
</div>
<div id="outline-container-org5ec89ab" class="outline-2">
<h2 id="org5ec89ab"><span class="section-number-2">52</span> Install simple-mtpfs</h2>
<div class="outline-text-2" id="text-52">
<p>
Mount android devices on Arch linux.
</p>

<p>
Install <code>automake</code> first.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S automake
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell">git clone https://aur.archlinux.org/simple-mtpfs.git
<span style="color: #e090d7;">cd</span> simple-mtpfs/
makepkg -si
</pre>
</div>

<p>
Check connected devices. Make sure to allow in the phone for usb conennections.
</p>

<div class="org-src-container">
<pre class="src src-shell">simple-mtpfs -l
</pre>
</div>

<p>
Mount the device.
</p>

<div class="org-src-container">
<pre class="src src-shell">simple-mtpfs --device 1 /srv/public/poco_x3
</pre>
</div>

<p>
You might need to sudo the command if you don't see the files.
</p>

<p>
Unmount using <code>fusermount -u mountpoint</code>
</p>
</div>
</div>
<div id="outline-container-orgf0e3a03" class="outline-2">
<h2 id="orgf0e3a03"><span class="section-number-2">53</span> PDF readers and utilities</h2>
<div class="outline-text-2" id="text-53">
<p>
I am trying zathura and it looks good.
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S zathura
sudo pacman -S zathura-pdf-poppler
</pre>
</div>

<p>
Try emacs key bindings? <a href="https://gist.github.com/kmaed/3168313">https://gist.github.com/kmaed/3168313</a>
</p>
</div>
</div>
<div id="outline-container-org325df91" class="outline-2">
<h2 id="org325df91"><span class="section-number-2">54</span> Create pdf from multiple images</h2>
<div class="outline-text-2" id="text-54">
<div class="org-src-container">
<pre class="src src-shell">convert *.jpg -quality 50 output.pdf
</pre>
</div>

<p>
Use the quality argument to create smaller sized files.
</p>
</div>
</div>

<div id="outline-container-orgc52e73a" class="outline-2">
<h2 id="orgc52e73a"><span class="section-number-2">55</span> Convert pdf to png</h2>
<div class="outline-text-2" id="text-55">
<div class="org-src-container">
<pre class="src src-shell">convert -verbose -density 300 -trim input.pdf -quality 100 -flatten output.png
</pre>
</div>

<p>
For multiple pages do this. Specify page number-1 along with input file name.
</p>
<div class="org-src-container">
<pre class="src src-shell">convert -verbose -density 300 -trim input.pdf[0] -quality 100 -flatten output.png
</pre>
</div>


<p>
If you get error that "convert: attempt to perform an operation not allowed by the security policy `PDF' @error/constitute.c/IsCoderAuthorized/408" then do this.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo emacs /etc/ImageMagick-7/policy.xml
</pre>
</div>

<p>
Find and edit the line
&lt;policy domain="coder" rights="none" pattern="PDF" /&gt;
to
&lt;policy domain="coder" rights="read|write" pattern="PDF" /&gt;
</p>
</div>
</div>

<div id="outline-container-orgaec229c" class="outline-2">
<h2 id="orgaec229c"><span class="section-number-2">56</span> Convert docx to pdf using soffice</h2>
<div class="outline-text-2" id="text-56">
<div class="org-src-container">
<pre class="src src-shell">soffice --headless --convert-to pdf document.docx
</pre>
</div>
</div>
</div>
<div id="outline-container-org8359456" class="outline-2">
<h2 id="org8359456"><span class="section-number-2">57</span> Convert pdf to black and white</h2>
<div class="outline-text-2" id="text-57">
<div class="org-src-container">
<pre class="src src-shell">gs <span style="color: #e9b96e;">\</span>
 -sDEVICE=pdfwrite <span style="color: #e9b96e;">\</span>
 -sColorConversionStrategy=Gray <span style="color: #e9b96e;">\</span>
 -dProcessColorModel=/DeviceGray <span style="color: #e9b96e;">\</span>
 -dCompatibilityLevel=1.4 <span style="color: #e9b96e;">\</span>
 -dNOPAUSE <span style="color: #e9b96e;">\</span>
 -dBATCH <span style="color: #e9b96e;">\</span>
 -dPDFSETTINGS=/default <span style="color: #e9b96e;">\</span>
 -sOutputFile=output.pdf <span style="color: #e9b96e;">\</span>
 input.pdf
</pre>
</div>
</div>
</div>
<div id="outline-container-org1d37cf1" class="outline-2">
<h2 id="org1d37cf1"><span class="section-number-2">58</span> Reduce pdf size</h2>
<div class="outline-text-2" id="text-58">
<pre class="example">
gs \
 -sDEVICE=pdfwrite \
 -dCompatibilityLevel=1.4 \
 -dNOPAUSE \
 -dBATCH \
 -dPDFSETTINGS=/default \
 -sOutputFile=output.pdf \
 input.pdf
</pre>

<p>
<b>Controls and features specific to PostScript and PDF input</b>
-dPDFSETTINGS=configuration
</p>

<p>
Presets the "distiller parameters" to one of four predefined settings:
</p>

<p>
/screen selects low-resolution output similar to the Acrobat Distiller (up to version X) "Screen Optimized" setting.
/ebook selects medium-resolution output similar to the Acrobat Distiller (up to version X) "eBook" setting.
/printer selects output similar to the Acrobat Distiller "Print Optimized" (up to version X) setting.
/prepress selects output similar to Acrobat Distiller "Prepress Optimized" (up to version X) setting.
/default selects output intended to be useful across a wide variety of uses, possibly at the expense of a larger output file.
</p>


<p>
Reference: <a href="https://askubuntu.com/questions/113544/how-can-i-reduce-the-file-size-of-a-scanned-pdf-file">https://askubuntu.com/questions/113544/how-can-i-reduce-the-file-size-of-a-scanned-pdf-file</a>
</p>
</div>
</div>

<div id="outline-container-org59c4468" class="outline-2">
<h2 id="org59c4468"><span class="section-number-2">59</span> Combine or unite pdf files</h2>
<div class="outline-text-2" id="text-59">
<div class="org-src-container">
<pre class="src src-shell">pdfunite 1.pdf 2.pdf output.pdf
</pre>
</div>

<p>
I was creating a consolidated pdf file containing all the past bills in reverse order so I used this simple command.
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #fcaf3e;">BILLS</span>=<span style="color: #e9b96e;">"$(</span><span style="color: #fa8072;">ls</span><span style="color: #e9b96e;"> -r *ravi*)"</span>; pdfunite $<span style="color: #fcaf3e;">BILLS</span> phone-bills-ravi-2021-2020-2019.pdf
</pre>
</div>

<p>
Use <code>ls -r *ravi*</code> to list the files in reverse order. The command is storing this reverse sorted list in a variable and then using the variable in the <code>pdfunite</code> command to combine them. Cool.
</p>
</div>
</div>
<div id="outline-container-orgaf42c8c" class="outline-2">
<h2 id="orgaf42c8c"><span class="section-number-2">60</span> Install Godot</h2>
<div class="outline-text-2" id="text-60">
<div class="org-src-container">
<pre class="src src-shell">git clone https://aur.archlinux.org/godot.git
<span style="color: #e090d7;">cd</span> godot/
makepkg -si
</pre>
</div>
</div>
</div>
<div id="outline-container-org2220441" class="outline-2">
<h2 id="org2220441"><span class="section-number-2">61</span> Update Arch</h2>
<div class="outline-text-2" id="text-61">
<p>
Simple command.
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -Syu
</pre>
</div>

<p>
You might get error related to corrupt keyring, then try this command.
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S archlinux-keyring
</pre>
</div>

<p>
If you get errors related to npm then try this.
</p>
<div class="org-src-container">
<pre class="src src-shell">npm r -g npm
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd87af63" class="outline-2">
<h2 id="orgd87af63"><span class="section-number-2">62</span> Error: Failed to retrieve packages</h2>
<div class="outline-text-2" id="text-62">
<p>
When installing packages if you see this error then instead of doing <code>sudo pacman -S dkms</code> do <code>sudo pacman -Syu dkms</code> and it will update the databases.
</p>

<p>
You can also update your mirrors by doing <code>sudo pacman-mirrors -g</code>
</p>
</div>
</div>
<div id="outline-container-org7f8dfbc" class="outline-2">
<h2 id="org7f8dfbc"><span class="section-number-2">63</span> Install linux-headers</h2>
<div class="outline-text-2" id="text-63">
<p>
While install dkms and usb wifi driver I was also getting error related to missing <code>linux-headers-5.15.3-arch1-1</code> so all I had to do was to install them using <code>sudo pacman -S linux-headers</code> and reboot the computer and then usb wifi drivers worked perfectly :)
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<div class='nav'>
<ul>
<li><a href='/'>Home</a></li>
<li><a href='../sitemap.html'>Sitemap</a></li>
<li><a href='../blog/blog.html'>Blogs</a></li>
<li><a href='http://twitter.com/linuxindya'>Twitter</a></li>
</ul>
</div>
<div class='footer'>Copyright  2020. Created 2020-11-14 Sat 15:30, Last updated 2021-12-03 Fri 14:51, built with <a href="http://www.gnu.org/software/emacs/">Emacs</a> 27.2 (<a href="http://orgmode.org">Org</a> mode N/A)</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src='https://www.googletagmanager.com/gtag/js?id=UA-3324511-1'></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-3324511-1');
</script>
</div>
</body>
</html>
EaE      b_b_DbSv   n    O^partitionKey=%28https%2Clinuxindya.com%29,:https://linuxindya.com/blog/arch-linux-install-thinkpad-x220.html strongly-framed 1 security-info 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 request-method GET response-head HTTP/2 200 OK
cache-control: max-age=600
content-type: text/html; charset=utf-8
etag: "69dd7520d5baa3106e71b0d624200ecf910fbb2674de9ac1a1ee7582fa8b3c23"
expires: Wed, 20 Jul 2022 19:11:53 UTC
last-modified: Sun, 05 Dec 2021 07:43:15 GMT
permissions-policy: interest-cohort=()
vary: Origin
content-length: 68735
date: Wed, 20 Jul 2022 19:01:53 GMT
X-Firefox-Spdy: h2
 original-response-headers cache-control: max-age=600
content-type: text/html; charset=utf-8
etag: "69dd7520d5baa3106e71b0d624200ecf910fbb2674de9ac1a1ee7582fa8b3c23"
expires: Wed, 20 Jul 2022 19:11:53 UTC
last-modified: Sun, 05 Dec 2021 07:43:15 GMT
permissions-policy: interest-cohort=()
vary: Origin
content-length: 68735
date: Wed, 20 Jul 2022 19:01:53 GMT
X-Firefox-Spdy: h2
 ctid 1 uncompressed-len 0 net-response-time-onstart 1981 net-response-time-onstop 2821  